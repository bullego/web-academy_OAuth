{"version":3,"sources":["utils/localstorage.ts","components/App/App.tsx","index.tsx"],"names":["setToLocalStorage","key","data","a","window","localStorage","setItem","getFromLocalStorage","getItem","process","REACT_APP_API_KEY","REACT_APP_NAME","REACT_APP_SCOPE","REACT_APP_REDIRECT_URL","App","state","token","boards","this","setState","location","hash","split","requestUrl","isLoggedIn","href","newToken","getTokenFromUrl","setToken","renderHeader","renderContent","React","ReactDOM","document","querySelector"],"mappings":"6KAAaA,EAAiB,uCAAG,WAAOC,EAAaC,GAApB,SAAAC,EAAA,sDAChCC,OAAOC,aAAaC,QAAQL,EAAKC,GADD,2CAAH,wDAIjBK,EAAmB,uCAAG,WAAON,GAAP,SAAAE,EAAA,sDAClCC,OAAOC,aAAaG,QAAQP,GADM,2CAAH,sD,ECDuDQ,iUAA/EC,E,EAAAA,kBAAmBC,E,EAAAA,eAAgBC,E,EAAAA,gBAAiBC,E,EAAAA,uBAgB/CC,EAAb,4MACQC,MAAQ,CACdC,MAAO,GACPC,OAAQ,IAHV,gGAOwBD,GAPxB,wEAQEE,KAAKC,SAAS,CACbH,MAAOA,IATV,SAYQhB,EA3BkB,QA2BmBgB,GAZ7C,wQAgBsBT,EA/BI,SAe1B,cAgBQS,EAhBR,yBAiBSA,GAjBT,yIAqBE,OAAOZ,OAAOgB,SAASC,KAAKC,MAAM,KAAK,KArBzC,mCAyBE,QAASJ,KAAKH,MAAMC,QAzBtB,qCA6BE,IAAMO,EAAU,oDAAgDV,EAAhD,iCAA+FF,EAA/F,kBAAuHC,EAAvH,oCAAkKF,GAElL,OACC,8BACGQ,KAAKM,aAAe,aAAe,qBAAGC,KAAMF,GAAT,gCAjCzC,sCAuCE,OACC,4BACGL,KAAKM,aAAe,yDAAuC,mBAzCjE,0CAgDE,IAAME,EAAWR,KAAKS,kBACtBT,KAAKU,SAASF,KAjDhB,+BAqDE,OACC,2BACGR,KAAKW,eACLX,KAAKY,qBAxDX,GAAyBC,aCdzBC,SAAgB,gBAAC,EAAD,MAASC,SAASC,cAAc,W","file":"static/js/main.30b695fc.chunk.js","sourcesContent":["export const setToLocalStorage = async (key: string, data: any) => {\n\twindow.localStorage.setItem(key, data);\n};\n\nexport const getFromLocalStorage = async (key: string) => {\n\twindow.localStorage.getItem(key);\n};","import * as React from 'react';\nimport { setToLocalStorage, getFromLocalStorage } from '../../utils';\n\nconst { REACT_APP_API_KEY, REACT_APP_NAME, REACT_APP_SCOPE, REACT_APP_REDIRECT_URL } = process.env;\nconst TOKEN_STORAGE_KEY = 'TOKEN';\n\n\ninterface Board {\n\tid: string;\n\tname: string;\n\tdesc: string;\n\tpinned: boolean;\n}\ninterface AppState {\n\ttoken: string;\n\tboards: Array<Board>;\n}\n\n\nexport class App extends React.Component<any, AppState> {\n\tpublic state = {\n\t\ttoken: '',\n\t\tboards: []\n\t}\n\n\n\tprivate async setToken(token: string) {\n\t\tthis.setState({\n\t\t\ttoken: token\n\t\t})\n\n\t\tawait setToLocalStorage(TOKEN_STORAGE_KEY, token);\n\t}\n\n\tprivate async getToken() {\n\t\tconst token = await getFromLocalStorage(TOKEN_STORAGE_KEY);\n\t\treturn token;\n\t}\n\n\tprivate getTokenFromUrl() {\n\t\treturn window.location.hash.split('=')[1];\n\t}\n\n\tprivate isLoggedIn() {\n\t\treturn !!this.state.token;\n\t}\n\n\tprivate renderHeader() {\t\t\n\t\tconst requestUrl = `https://trello.com/1/authorize?return_url=${REACT_APP_REDIRECT_URL}&expiration=1day&name=${REACT_APP_NAME}&scope=${REACT_APP_SCOPE}&response_type=token&key=${REACT_APP_API_KEY}`;\n\n\t\treturn (\n\t\t\t<header>\n\t\t\t\t{ this.isLoggedIn() ? 'Hello user' : <a href={requestUrl}>Login with Trello account</a> }\n\t\t\t</header>\n\t\t)\n\t}\n\n\tprivate renderContent() {\n\t\treturn (\n\t\t\t<main>\n\t\t\t\t{ this.isLoggedIn() ? <h2>Lorem ipsum dolor sit amet.</h2> : 'Please log in' }\n\t\t\t</main>\n\t\t)\n\t}\n\n\n\tpublic componentDidMount() {\n\t\tconst newToken = this.getTokenFromUrl();\n\t\tthis.setToken(newToken);\n\t}\n\n\tpublic render() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{ this.renderHeader() }\n\t\t\t\t{ this.renderContent() }\n\t\t\t</div>\n\t\t)\n\t}\n}","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { App } from './components/App';\n\n\nReactDOM.render(<App />, document.querySelector('#root'));"],"sourceRoot":""}